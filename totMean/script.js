mapboxgl.accessToken = 'pk.eyJ1IjoidG9tYXN6amF3b3Jza2kiLCJhIjoiY2p3YWQ1Y3dqMDhweDQ4bGpqcjl6c3JvbCJ9.OGdxKDPgRO5Oswfl-jNfAQ';
var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/streets-v11',
  center: [120.667080, 24.195361],
  zoom: 11
});

const arr = [[120.755, 23.741], [120.601, 24.179], [120.681, 24.149], [120.595, 24.188], [120.673, 24.138], [120.692, 24.167], [120.659, 24.159], [120.702, 24.188], [120.614, 24.127], [120.631, 24.115], [120.678, 24.166], [120.665, 24.136], [120.612, 24.191], [120.602, 24.184], [120.635, 24.136], [120.657, 24.135], [120.678, 24.135], [120.816, 24.26], [120.638, 24.147], [120.64, 24.108], [120.609, 24.244], [120.548, 24.152], [120.542, 24.243], [120.532, 24.229], [120.535, 24.235], [120.554, 24.239], [120.624, 24.348000000000006], [120.629, 24.341], [120.528, 24.244], [120.635, 24.276], [120.538, 24.25], [120.72, 24.254], [120.649, 24.164], [120.696, 24.15], [120.639, 24.172], [120.697, 24.249], [120.773, 24.276], [120.64, 24.179], [120.648, 24.199], [120.655, 24.143], [120.633, 24.151], [120.573, 24.165], [120.522, 24.201], [120.575, 24.181], [120.662, 24.198], [120.67, 24.175], [120.603, 24.394], [120.682, 24.166], [120.61, 24.187], [120.731, 24.164], [120.67, 24.148000000000003], [120.614, 24.19], [120.724, 24.124], [120.716, 24.112], [120.66, 24.12], [120.679, 24.125], [120.69, 24.128], [120.752, 24.122], [120.664, 24.157], [120.662, 24.168000000000006], [120.734, 24.12], [120.743, 24.263], [120.429, 24.047], [120.533, 24.063], [120.714, 24.225], [120.723, 24.162], [120.759, 24.168000000000006], [120.631, 24.214], [120.724, 24.134], [120.637, 24.156], [120.663, 24.116], [120.582, 24.226], [120.761, 24.609], [120.695, 24.171], [120.631, 24.123], [120.671, 24.179], [120.748, 24.196], [120.655, 24.152], [120.723, 24.288], [120.547, 24.196], [120.632, 24.157], [120.608, 24.134], [120.628, 24.122], [120.678, 24.311], [120.711, 24.301], [120.588, 24.345], [120.75, 24.325], [120.735, 24.122], [120.719, 24.314], [120.729, 24.313], [120.638, 24.136], [120.698, 24.186], [120.72, 24.302], [120.566, 24.266], [120.725, 24.145], [120.717, 24.304], [120.617, 24.175], [120.658, 24.137], [120.599, 24.109], [120.667, 24.185], [120.716, 24.175], [120.668, 24.17], [120.682, 24.172], [120.673, 24.16], [120.631, 24.153], [120.691, 24.163], [120.569, 24.122], [120.657, 24.141], [120.65, 24.154], [120.656, 24.018], [120.688, 24.109], [120.662, 24.194000000000006], [120.681, 24.143], [120.556, 24.134], [120.678, 24.192], [120.667, 24.155], [120.686, 24.191], [121.259, 24.255], [120.699, 24.177], [120.642, 24.407], [120.696, 24.173], [120.581, 24.087], [120.705, 24.215], [120.648, 24.154], [120.656, 24.349], [120.561, 24.312], [120.835, 24.252], [120.752, 24.083], [120.706, 24.159], [120.719, 24.154], [120.652, 24.173], [120.851, 24.257], [120.731, 24.109], [120.93, 24.183000000000003], [120.699, 24.137], [120.693, 24.145], [120.699, 24.057], [120.684, 24.16], [120.735, 24.066], [120.687, 24.104], [120.667, 24.06], [120.724, 24.035], [120.573, 24.266], [120.709, 24.167], [120.704, 24.346], [120.881, 24.163], [120.787, 24.241], [120.85, 24.237], [120.737, 24.145], [120.627, 24.348000000000006], [120.69, 24.315], [120.684, 24.114], [120.526, 24.216], [120.713, 24.252], [120.702, 24.07], [120.697, 24.028], [120.667, 24.073], [120.715, 24.139], [120.727, 24.104], [120.689, 24.1], [120.668, 24.036], [120.556, 24.279], [120.826, 24.264], [120.979, 24.177], [120.574, 24.276], [120.654, 24.391], [120.55, 24.213], [120.712, 24.249], [120.714, 24.307], [121.006, 24.201], [120.646, 24.22], [120.709, 24.212], [120.653, 24.332], [120.715, 24.261], [120.65, 24.223000000000006], [120.703, 24.262], [120.695, 24.111], [120.667, 24.219], [120.663, 24.117], [120.725, 24.203000000000007], [120.632, 24.221], [120.661, 24.259], [120.567, 24.159], [120.643, 24.229], [120.626, 24.23], [120.546, 24.154], [120.658, 24.273000000000003], [120.669, 23.933000000000003], [120.614, 24.179], [120.895, 24.171], [120.805, 24.227], [120.819, 24.206], [120.81, 24.24], [120.704, 24.308000000000003], [120.578, 24.174], [120.657, 24.115], [120.685, 24.176], [120.702, 24.086], [120.687, 24.106], [120.653, 24.155], [120.684, 24.216], [120.673, 24.25], [120.715, 24.164], [120.664, 24.337], [120.807, 24.266], [120.707, 24.303], [120.812, 24.193], [120.664, 24.17], [120.624, 24.184], [120.64, 24.14], [120.666, 24.18], [120.739, 24.252], [120.615, 24.149], [120.644, 24.131], [120.637, 24.148000000000003], [120.652, 24.169], [120.639, 24.041], [120.677, 24.1], [120.619, 24.17], [120.667, 24.112], [120.839, 24.208], [120.574, 24.168000000000006], [120.642, 24.061], [120.728, 24.089], [120.648, 24.135], [120.637, 24.152], [120.639, 24.146], [120.624, 24.355], [120.468, 23.961], [120.942, 24.309], [120.643, 24.071], [120.643, 24.186], [120.613, 24.181], [120.674, 24.151], [120.678, 24.03], [120.688, 24.091], [120.632, 24.108], [120.708, 24.308000000000003], [120.622, 24.113000000000003], [120.568, 23.963], [120.695, 24.018], [120.558, 24.085], [120.568, 24.156], [120.613, 24.184], [120.651, 24.216], [120.362, 23.879], [120.613, 24.143], [120.671, 24.125], [120.219, 23.08], [120.592, 24.19], [120.56, 24.195], [120.713, 24.305]];
const mean = [34.14024708543588, 39.76601457614116, 44.86050895381715, 38.921148255813954, 46.241431451612904, 33.29640900791235, 37.84140156754265, 38.705278592375365, 37.0410100286533, 33.502179598953795, 35.717281272595805, 32.48531767218366, 32.27137546468401, 40.65572346708355, 41.42511284366024, 36.75311252055438, 35.52304292929293, 33.16326530612245, 37.693967415235576, 36.508970466464255, 44.60337655982383, 44.2203573362209, 38.399294947121035, 39.63063829787234, 40.56560871624822, 42.044848206071755, 37.60744462205983, 37.55064056079284, 27.25620420704325, 52.58763636363636, 37.19951865222623, 30.2462758289284, 44.68724575257239, 50.17410400562193, 41.37033515569289, 37.84003808616996, 26.886588235294116, 37.45766679672259, 45.765669515669515, 45.55232558139535, 39.52509505703422, 45.22292143401983, 39.749881009043314, 40.11338857392063, 40.98692335633854, 45.54426042261565, 38.23977761836442, 31.870139011085694, 38.896843725943036, 38.7047123623011, 30.506774075430247, 32.61442342020707, 44.799571020019066, 45.12264376043903, 40.519159806982685, 44.389803012746235, 45.37746750120366, 44.54118480056644, 17.938594725186228, 24.20736503396496, 38.789557241136, 30.966352859135284, 39.06882661996497, 37.3758107592522, 35.23717498243148, 35.74616875110093, 35.61221122112211, 38.13201793721973, 15.645938173975557, 39.7602237654321, 42.01330998248687, 38.504058755315036, 32.83048128342246, 38.67079150128415, 41.67389194435458, 41.60779415438421, 36.53029045643154, 37.75531344883015, 28.295311657984552, 37.412963811268895, 29.918296608071305, 33.162575266327, 43.87581852198316, 36.23342415985468, 36.49368295589988, 38.07827324478178, 25.504901960784313, 43.190484772031, 43.76486106225818, 32.10348525469169, 37.52133712660029, 35.85094637223975, 38.05202414772727, 37.18666666666667, 41.2551040248882, 39.00607468286582, 37.898099260823656, 38.56141592920354, 43.531771247021446, 39.41417910447761, 35.68926422952337, 31.15699361578642, 43.45474241694752, 40.29700022899015, 36.75628491620112, 39.90380157626333, 42.46817420435511, 40.63161596623879, 39.68073878627968, 48.582347140039445, 43.91148195175041, 41.72692853762423, 41.32792284168431, 39.845283926852744, 33.26648884578079, 43.78119507908612, 48.76757132915797, 8.62200184501845, 40.500374531835206, 41.9283946251768, 37.2973897389739, 41.39593552908199, 36.12834129934502, 40.37209717756342, 37.96750298685782, 39.15286144578313, 32.84600964113551, 24.59622641509434, 37.32003710575139, 39.53238913396796, 42.30484988452656, 27.41257774706289, 43.7143891839691, 27.182171484090357, 41.50981366459627, 41.2469893742621, 30.70057803468208, 29.83312958435208, 48.34617148097203, 40.104664930144445, 37.989939637826964, 37.27450047573739, 29.58295605858855, 40.623535039464244, 38.469292076887015, 24.965785813630042, 32.69605734767025, 39.88362177075496, 38.61515281962979, 35.75382685069009, 27.91318553092182, 31.88567461235825, 37.06568489948574, 33.05836397058823, 46.66062602965403, 38.205827067669176, 35.50398313027179, 31.827008149010478, 43.50946252838759, 36.88578471651602, 47.99620942904525, 42.11344537815126, 30.463894967177243, 22.53048780487805, 35.52491011813046, 37.01810061118947, 29.224288067780655, 34.80815061963775, 33.83546483030005, 18.484444444444446, 44.313350242102835, 38.01153014652895, 33.30228795932517, 34.58061509785648, 43.118186090225564, 33.873471307619944, 41.91439778495616, 16.751391914790606, 43.241361071932296, 36.218438730599956, 41.242522231204525, 46.076491228070175, 33.8628996933859, 43.17247020331853, 43.705005820721766, 42.76148536062842, 33.03454317897372, 54.51434626671014, 40.080457336438705, 30.16109785202864, 34.22387238723872, 30.357564860005137, 37.06965859030837, 37.80100125156446, 36.96498123994997, 37.60558530986993, 43.22370343316289, 39.1102270067868, 43.77917159763314, 35.880826404635926, 36.5970695970696, 40.401373167563555, 38.68833899401585, 31.515065017443703, 30.215107913669065, 39.554125488393474, 37.082178915238316, 41.254021795537106, 36.33396226415094, 41.5143109540636, 41.2468226192669, 36.15429234338747, 37.504852071005914, 43.352079985716834, 31.71696227829128, 45.29334916864608, 43.84250837721398, 45.876660341555976, 38.41323877068558, 28.874934771264567, 38.308002148227715, 40.664757814364116, 42.09250082590023, 29.72532814778804, 44.23509015256588, 30.939983995732195, 39.87871287128713, 40.54685540225766, 43.66568047337278, 27.381300047103156, 47.85854513584575, 39.140516698172654, 32.87172284644195, 46.25035612535613, 41.67107142857143, 52.656486410759314, 40.86067892503536, 47.53469531525185, 39.47876378095066, 47.61623550401427, 42.49690210656753, 42.82103947133417, 39.43576826196473, 35.01041028781384, 30.21810197609173, 41.44291091593475, 39.72483102098897, 46.0219074598678, 63.59487882944673, 27.096609660966095, 37.463362831858404, 39.757268951194185];
for (let i = 0; i < arr.length; i++) {
  // add marker to map
  var el = document.createElement('div');
  el.className = 'marker';
  el.style.width = '24px';
  el.style.height = '24px';
  if(mean[i]>= 0 && mean[i]<= 35)
    el.style.backgroundImage = 'url(../image/level1.png)';
  else if (mean[i] >= 36 && mean[i]<= 41)
  el.style.backgroundImage = 'url(../image/level2.png)';
  else if (mean[i] >= 42 && mean[i]<= 53)
  el.style.backgroundImage = 'url(../image/level3.png)';
  else if (mean[i] >= 54 && mean[i]<= 70)
  el.style.backgroundImage = 'url(../image/level4.png)';
  else
  el.style.backgroundImage = 'url(../image/level5.png)';
  new mapboxgl.Marker(el)
    .setLngLat(arr[i])
    .addTo(map);
}

