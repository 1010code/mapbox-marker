mapboxgl.accessToken = 'pk.eyJ1IjoidG9tYXN6amF3b3Jza2kiLCJhIjoiY2p3YWQ1Y3dqMDhweDQ4bGpqcjl6c3JvbCJ9.OGdxKDPgRO5Oswfl-jNfAQ';
var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/streets-v11',
  center: [120.667080, 24.195361],
  zoom: 11
});

const arr = [[120.755, 23.741], [120.601, 24.179], [120.681, 24.149], [120.595, 24.188], [120.673, 24.138], [120.692, 24.167], [120.659, 24.159], [120.702, 24.188], [120.614, 24.127], [120.631, 24.115], [120.678, 24.166], [120.665, 24.136], [120.612, 24.191], [120.602, 24.184], [120.635, 24.136], [120.657, 24.135], [120.678, 24.135], [120.816, 24.26], [120.638, 24.147], [120.64, 24.108], [120.609, 24.244], [120.548, 24.152], [120.542, 24.243], [120.532, 24.229], [120.535, 24.235], [120.554, 24.239], [120.624, 24.348000000000006], [120.629, 24.341], [120.528, 24.244], [120.635, 24.276], [120.538, 24.25], [120.72, 24.254], [120.649, 24.164], [120.696, 24.15], [120.639, 24.172], [120.697, 24.249], [120.773, 24.276], [120.64, 24.179], [120.648, 24.199], [120.655, 24.143], [120.633, 24.151], [120.573, 24.165], [120.522, 24.201], [120.575, 24.181], [120.662, 24.198], [120.67, 24.175], [120.603, 24.394], [120.682, 24.166], [120.61, 24.187], [120.731, 24.164], [120.67, 24.148000000000003], [120.614, 24.19], [120.724, 24.124], [120.716, 24.112], [120.66, 24.12], [120.679, 24.125], [120.69, 24.128], [120.752, 24.122], [120.664, 24.157], [120.662, 24.168000000000006], [120.734, 24.12], [120.743, 24.263], [120.429, 24.047], [120.533, 24.063], [120.714, 24.225], [120.723, 24.162], [120.759, 24.168000000000006], [120.631, 24.214], [120.724, 24.134], [120.637, 24.156], [120.663, 24.116], [120.582, 24.226], [120.761, 24.609], [120.695, 24.171], [120.631, 24.123], [120.671, 24.179], [120.748, 24.196], [120.655, 24.152], [120.723, 24.288], [120.547, 24.196], [120.632, 24.157], [120.608, 24.134], [120.628, 24.122], [120.678, 24.311], [120.711, 24.301], [120.588, 24.345], [120.75, 24.325], [120.735, 24.122], [120.719, 24.314], [120.729, 24.313], [120.638, 24.136], [120.698, 24.186], [120.72, 24.302], [120.566, 24.266], [120.725, 24.145], [120.717, 24.304], [120.617, 24.175], [120.658, 24.137], [120.599, 24.109], [120.667, 24.185], [120.716, 24.175], [120.668, 24.17], [120.682, 24.172], [120.673, 24.16], [120.631, 24.153], [120.691, 24.163], [120.569, 24.122], [120.657, 24.141], [120.65, 24.154], [120.656, 24.018], [120.688, 24.109], [120.662, 24.194000000000006], [120.681, 24.143], [120.556, 24.134], [120.678, 24.192], [120.667, 24.155], [120.686, 24.191], [121.259, 24.255], [120.699, 24.177], [120.642, 24.407], [120.696, 24.173], [120.581, 24.087], [120.705, 24.215], [120.648, 24.154], [120.656, 24.349], [120.561, 24.312], [120.835, 24.252], [120.752, 24.083], [120.706, 24.159], [120.719, 24.154], [120.652, 24.173], [120.851, 24.257], [120.731, 24.109], [120.93, 24.183000000000003], [120.699, 24.137], [120.693, 24.145], [120.699, 24.057], [120.684, 24.16], [120.735, 24.066], [120.687, 24.104], [120.667, 24.06], [120.724, 24.035], [120.573, 24.266], [120.709, 24.167], [120.704, 24.346], [120.881, 24.163], [120.787, 24.241], [120.85, 24.237], [120.737, 24.145], [120.627, 24.348000000000006], [120.69, 24.315], [120.684, 24.114], [120.526, 24.216], [120.713, 24.252], [120.702, 24.07], [120.697, 24.028], [120.667, 24.073], [120.715, 24.139], [120.727, 24.104], [120.689, 24.1], [120.668, 24.036], [120.556, 24.279], [120.826, 24.264], [120.979, 24.177], [120.574, 24.276], [120.654, 24.391], [120.55, 24.213], [120.712, 24.249], [120.714, 24.307], [121.006, 24.201], [120.646, 24.22], [120.709, 24.212], [120.653, 24.332], [120.715, 24.261], [120.65, 24.223000000000006], [120.703, 24.262], [120.695, 24.111], [120.667, 24.219], [120.663, 24.117], [120.725, 24.203000000000007], [120.632, 24.221], [120.661, 24.259], [120.567, 24.159], [120.643, 24.229], [120.626, 24.23], [120.546, 24.154], [120.658, 24.273000000000003], [120.669, 23.933000000000003], [120.614, 24.179], [120.895, 24.171], [120.805, 24.227], [120.819, 24.206], [120.81, 24.24], [120.704, 24.308000000000003], [120.578, 24.174], [120.657, 24.115], [120.685, 24.176], [120.702, 24.086], [120.687, 24.106], [120.653, 24.155], [120.684, 24.216], [120.673, 24.25], [120.715, 24.164], [120.664, 24.337], [120.807, 24.266], [120.707, 24.303], [120.812, 24.193], [120.664, 24.17], [120.624, 24.184], [120.64, 24.14], [120.666, 24.18], [120.739, 24.252], [120.615, 24.149], [120.644, 24.131], [120.637, 24.148000000000003], [120.652, 24.169], [120.639, 24.041], [120.677, 24.1], [120.619, 24.17], [120.667, 24.112], [120.839, 24.208], [120.574, 24.168000000000006], [120.642, 24.061], [120.728, 24.089], [120.648, 24.135], [120.637, 24.152], [120.639, 24.146], [120.624, 24.355], [120.468, 23.961], [120.942, 24.309], [120.643, 24.071], [120.643, 24.186], [120.613, 24.181], [120.674, 24.151], [120.678, 24.03], [120.688, 24.091], [120.632, 24.108], [120.708, 24.308000000000003], [120.622, 24.113000000000003], [120.568, 23.963], [120.695, 24.018], [120.558, 24.085], [120.568, 24.156], [120.613, 24.184], [120.651, 24.216], [120.362, 23.879], [120.613, 24.143], [120.671, 24.125], [120.219, 23.08], [120.592, 24.19], [120.56, 24.195], [120.713, 24.305]];
const mean = [35.705882352941174, 46.4572305331799, 53.167766258246935, 42.82376453488372, 55.206149193548384, 38.3510551948052, 43.479944674965424, 40.53749476330122, 41.242478510028654, 28.2296511627907, 41.24300867888139, 34.43609825560698, 38.74324853228963, 44.246351633078525, 43.91054575297497, 43.203007518796994, 42.77020202020202, 38.67233560090703, 41.22897402025539, 39.02705687465489, 53.8913362701909, 55.75527883053601, 43.47390691114246, 41.550510783200906, 46.10658455708195, 48.18905243790248, 43.647784376427595, 44.030947775628626, 31.262884160756503, 66.32541222114452, 41.48916706788638, 36.329168668909176, 52.65342269028243, 53.651440618411804, 49.93770803613885, 43.75142857142857, 33.233411764705885, 36.80796252927401, 53.610161443494775, 49.08844256518675, 43.35285171102662, 48.504576659038904, 45.24274155164208, 44.98342059336824, 45.29349800217944, 48.64166031987814, 41.74533715925394, 34.81978176698345, 43.47844495765974, 42.50183598531212, 31.986085682900036, 36.66012138521956, 49.89799809342231, 50.98138424821003, 45.370812038614424, 51.16504404265183, 52.51468464130958, 49.97403210576015, 16.26459927507048, 27.699320700750803, 41.15878616796048, 33.64435146443515, 42.15901926444834, 44.0877527661198, 38.69009135628953, 38.579281183932345, 42.27062706270627, 41.47613921779691, 17.397915168943207, 43.35686728395062, 46.43747810858144, 43.21144182450715, 34.05525846702317, 45.16627744044839, 50.37981235846004, 47.81159420289855, 40.78073089700997, 44.30725259021079, 30.55300035932447, 44.85524507558406, 37.49678058444775, 39.06623436776285, 51.69971936389149, 45.47275204359673, 44.13209346685741, 43.42409867172675, 32.35247432306256, 47.05263157894737, 47.16391136123813, 36.34572756524848, 45.03556187766714, 35.054022082018925, 42.20419034090909, 41.39157894736842, 44.70945157526254, 40.6107934238742, 41.39141147483281, 44.79504424778761, 47.87768069896743, 45.607742537313435, 41.770013882461825, 31.867092280905396, 49.73230621088108, 47.455336692624826, 40.80272346368715, 46.09411219286046, 48.07705192629816, 43.75202251143158, 43.23715693173821, 57.8767258382643, 47.55624092888244, 47.28395646000946, 48.792, 46.70452358036574, 30.068380213385062, 55.43585237258348, 55.12526096033403, 9.419280442804428, 49.97901049475262, 45.214992927864216, 42.080302484695714, 43.00770847932726, 38.7907223796034, 45.24294390853876, 44.03346080305927, 43.05020080321285, 39.345474022495985, 27.463476070528966, 44.69897959183673, 46.24105898745936, 45.901208244491826, 32.30046082949309, 50.10574601641719, 30.769679300291546, 47.586481113320076, 47.39395370807747, 37.46808510638298, 36.52322738386308, 55.536909674461256, 46.49881572714354, 44.411133467471494, 42.065651760228356, 33.29195524773575, 45.78181818181818, 45.784341303328645, 26.993878686700057, 38.27868068833652, 47.8861013547416, 45.99397071490095, 41.42620481927711, 35.06022408963585, 39.52175925925926, 42.597007947639085, 39.78216911764706, 52.061676082862526, 42.213815789473685, 41.16213683223992, 37.67955286446204, 51.06515151515151, 44.46875, 54.14644549763033, 48.296451914098974, 33.94598540145985, 24.143015521064303, 32.227132579650565, 42.15561824165491, 32.828154425612055, 41.938512869399425, 42.606984751598624, 21.622384937238493, 53.64575645756457, 47.65593464680442, 39.93573740175682, 41.51677539608574, 52.33458646616541, 40.9346190028222, 49.0941393631749, 22.204842615012108, 46.966149506346966, 43.14272474513438, 48.83396226415094, 55.19092185306504, 39.331288343558285, 52.259467040673215, 51.32137866790871, 49.170476190476194, 39.190786179268905, 61.551679165308116, 44.78229563744176, 32.83770883054893, 38.82508250825082, 37.52980472764646, 42.254955947136565, 41.43884120171674, 40.717655468191566, 42.088370313695485, 45.14207450693937, 45.06039325842696, 52.58285984848485, 42.298891129032256, 43.522716170004884, 44.2731997030438, 44.73633128437399, 32.98857868020305, 37.69736211031175, 43.95080459770115, 43.000939408172854, 45.75765438505449, 42.65754716981132, 44.89681978798587, 43.99521002210759, 43.10788863109049, 44.88731060606061, 46.933571428571426, 26.366816591704147, 53.73064133016627, 50.692197223551936, 53.48481973434535, 45.928605200945626, 31.14787752261656, 41.242749731471534, 47.79236276849642, 45.90945142101785, 35.007292173067576, 52.612575127138236, 38.032017075773744, 46.10846084608461, 43.901433691756274, 52.33497698882314, 31.37399905793688, 53.63639551192146, 40.23203026481715, 35.583895131086145, 50.37856125356125, 46.45285714285714, 58.36603139013453, 44.53288543140028, 52.61183515322296, 43.091467823571946, 52.839757316202714, 45.79886685552408, 45.60950339406931, 47.34867316090023, 42.28230251071647, 39.79111761835041, 44.42165650770885, 43.67840626111704, 50.857952398942196, 72.56541628545288, 34.28211284513805, 41.276106194690264, 47.228971962616825];
for (let i = 0; i < arr.length; i++) {
  // add marker to map
  var el = document.createElement('div');
  el.className = 'marker';
  el.style.width = '24px';
  el.style.height = '24px';
  if(mean[i]>= 0 && mean[i]<= 35)
    el.style.backgroundImage = 'url(../image/level1.png)';
  else if (mean[i] >= 36 && mean[i]<= 41)
  el.style.backgroundImage = 'url(../image/level2.png)';
  else if (mean[i] >= 42 && mean[i]<= 53)
  el.style.backgroundImage = 'url(../image/level3.png)';
  else if (mean[i] >= 54 && mean[i]<= 70)
  el.style.backgroundImage = 'url(../image/level4.png)';
  else
  el.style.backgroundImage = 'url(../image/level5.png)';
  new mapboxgl.Marker(el)
    .setLngLat(arr[i])
    .addTo(map);
}

