mapboxgl.accessToken = 'pk.eyJ1IjoidG9tYXN6amF3b3Jza2kiLCJhIjoiY2p3YWQ1Y3dqMDhweDQ4bGpqcjl6c3JvbCJ9.OGdxKDPgRO5Oswfl-jNfAQ';
var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/streets-v11',
  center: [120.667080, 24.195361],
  zoom: 11
});

const arr = [[120.755, 23.741], [120.601, 24.179], [120.681, 24.149], [120.595, 24.188], [120.673, 24.138], [120.692, 24.167], [120.659, 24.159], [120.702, 24.188], [120.614, 24.127], [120.631, 24.115], [120.678, 24.166], [120.665, 24.136], [120.612, 24.191], [120.602, 24.184], [120.635, 24.136], [120.657, 24.135], [120.678, 24.135], [120.816, 24.26], [120.638, 24.147], [120.64, 24.108], [120.609, 24.244], [120.548, 24.152], [120.542, 24.243], [120.532, 24.229], [120.535, 24.235], [120.554, 24.239], [120.624, 24.348000000000006], [120.629, 24.341], [120.528, 24.244], [120.635, 24.276], [120.538, 24.25], [120.72, 24.254], [120.649, 24.164], [120.696, 24.15], [120.639, 24.172], [120.697, 24.249], [120.773, 24.276], [120.64, 24.179], [120.648, 24.199], [120.655, 24.143], [120.633, 24.151], [120.573, 24.165], [120.522, 24.201], [120.575, 24.181], [120.662, 24.198], [120.67, 24.175], [120.603, 24.394], [120.682, 24.166], [120.61, 24.187], [120.731, 24.164], [120.67, 24.148000000000003], [120.614, 24.19], [120.724, 24.124], [120.716, 24.112], [120.66, 24.12], [120.679, 24.125], [120.69, 24.128], [120.752, 24.122], [120.664, 24.157], [120.662, 24.168000000000006], [120.734, 24.12], [120.743, 24.263], [120.429, 24.047], [120.533, 24.063], [120.714, 24.225], [120.723, 24.162], [120.759, 24.168000000000006], [120.631, 24.214], [120.724, 24.134], [120.637, 24.156], [120.663, 24.116], [120.582, 24.226], [120.761, 24.609], [120.695, 24.171], [120.631, 24.123], [120.671, 24.179], [120.748, 24.196], [120.655, 24.152], [120.723, 24.288], [120.547, 24.196], [120.632, 24.157], [120.608, 24.134], [120.628, 24.122], [120.678, 24.311], [120.711, 24.301], [120.588, 24.345], [120.75, 24.325], [120.735, 24.122], [120.719, 24.314], [120.729, 24.313], [120.638, 24.136], [120.698, 24.186], [120.72, 24.302], [120.566, 24.266], [120.725, 24.145], [120.717, 24.304], [120.617, 24.175], [120.658, 24.137], [120.599, 24.109], [120.667, 24.185], [120.716, 24.175], [120.668, 24.17], [120.682, 24.172], [120.673, 24.16], [120.631, 24.153], [120.691, 24.163], [120.569, 24.122], [120.657, 24.141], [120.65, 24.154], [120.656, 24.018], [120.688, 24.109], [120.662, 24.194000000000006], [120.681, 24.143], [120.556, 24.134], [120.678, 24.192], [120.667, 24.155], [120.686, 24.191], [121.259, 24.255], [120.699, 24.177], [120.642, 24.407], [120.696, 24.173], [120.581, 24.087], [120.705, 24.215], [120.648, 24.154], [120.656, 24.349], [120.561, 24.312], [120.835, 24.252], [120.752, 24.083], [120.706, 24.159], [120.719, 24.154], [120.652, 24.173], [120.851, 24.257], [120.731, 24.109], [120.93, 24.183000000000003], [120.699, 24.137], [120.693, 24.145], [120.699, 24.057], [120.684, 24.16], [120.735, 24.066], [120.687, 24.104], [120.667, 24.06], [120.724, 24.035], [120.573, 24.266], [120.709, 24.167], [120.704, 24.346], [120.881, 24.163], [120.787, 24.241], [120.85, 24.237], [120.737, 24.145], [120.627, 24.348000000000006], [120.69, 24.315], [120.684, 24.114], [120.526, 24.216], [120.713, 24.252], [120.702, 24.07], [120.697, 24.028], [120.667, 24.073], [120.715, 24.139], [120.727, 24.104], [120.689, 24.1], [120.668, 24.036], [120.556, 24.279], [120.826, 24.264], [120.979, 24.177], [120.574, 24.276], [120.654, 24.391], [120.55, 24.213], [120.712, 24.249], [120.714, 24.307], [121.006, 24.201], [120.646, 24.22], [120.709, 24.212], [120.653, 24.332], [120.715, 24.261], [120.65, 24.223000000000006], [120.703, 24.262], [120.695, 24.111], [120.667, 24.219], [120.663, 24.117], [120.725, 24.203000000000007], [120.632, 24.221], [120.661, 24.259], [120.567, 24.159], [120.643, 24.229], [120.626, 24.23], [120.546, 24.154], [120.658, 24.273000000000003], [120.669, 23.933000000000003], [120.614, 24.179], [120.895, 24.171], [120.805, 24.227], [120.819, 24.206], [120.81, 24.24], [120.704, 24.308000000000003], [120.578, 24.174], [120.657, 24.115], [120.685, 24.176], [120.702, 24.086], [120.687, 24.106], [120.653, 24.155], [120.684, 24.216], [120.673, 24.25], [120.715, 24.164], [120.664, 24.337], [120.807, 24.266], [120.707, 24.303], [120.812, 24.193], [120.664, 24.17], [120.624, 24.184], [120.64, 24.14], [120.666, 24.18], [120.739, 24.252], [120.615, 24.149], [120.644, 24.131], [120.637, 24.148000000000003], [120.652, 24.169], [120.639, 24.041], [120.677, 24.1], [120.619, 24.17], [120.667, 24.112], [120.839, 24.208], [120.574, 24.168000000000006], [120.642, 24.061], [120.728, 24.089], [120.648, 24.135], [120.637, 24.152], [120.639, 24.146], [120.624, 24.355], [120.468, 23.961], [120.942, 24.309], [120.643, 24.071], [120.643, 24.186], [120.613, 24.181], [120.674, 24.151], [120.678, 24.03], [120.688, 24.091], [120.632, 24.108], [120.708, 24.308000000000003], [120.622, 24.113000000000003], [120.568, 23.963], [120.695, 24.018], [120.558, 24.085], [120.568, 24.156], [120.613, 24.184], [120.651, 24.216], [120.362, 23.879], [120.613, 24.143], [120.671, 24.125], [120.219, 23.08], [120.592, 24.19], [120.56, 24.195], [120.713, 24.305]];
const mean = [36.308099924299775, 57.825688073394495, 65.06967213114754, 53.56600790513834, 72.27850877192982, 52.25154457193292, 51.79739217652959, 49.842440801457194, 53.40264797507788, 19.6763590391909, 48.95073375262054, 43.593653250774, 45.43659574468085, 56.21450151057402, 56.803746654772524, 52.103166496424926, 49.4010989010989, 42.15308641975309, 52.72030651340996, 44.63025210084034, 56.23510638297872, 62.411071849234396, 49.25255623721881, 49.9641975308642, 51.53450051493306, 55.281, 49.4240317775571, 50.35856992639327, 33.98869475847893, 87.97995780590718, 46.75916230366492, 43.22675026123302, 61.20395421436004, 66.08938120702827, 58.74250258531541, 50.56107660455486, 36.92835209825998, 43.00509337860781, 61.87913223140496, 61.42758620689655, 53.8767576509512, 60.32255389718076, 53.466873706004144, 54.13472485768501, 58.136650868878355, 59.854304635761586, 47.170046801872076, 44.6495791889824, 55.60836820083682, 49.60186418109188, 41.05334394904459, 45.16459627329193, 57.116062176165805, 55.32917964693666, 55.37530864197531, 61.17842741935484, 61.045026178010474, 55.48151950718686, 18.882661996497372, 39.06143079315708, 48.120491174213356, 43.57391963608794, 52.86519421172886, 52.85809128630705, 49.82123758594347, 47.438314176245214, 48.07589743589744, 51.150546021840874, 18.764659890539484, 55.91107382550336, 58.246001523229246, 52.98739495798319, 38.73410852713178, 53.1502538071066, 61.03800140745953, 54.94565217391305, 45.39350180505415, 57.55400155400155, 34.9171875, 53.73804780876494, 43.16271551724138, 46.08862034239678, 62.34384537131231, 54.787549407114625, 51.14004149377593, 49.21155830753354, 37.02030456852792, 54.35031347962382, 55.182096403978576, 46.748055987558324, 53.914432989690724, 48.33704974271012, 52.84401544401545, 53.130434782608695, 54.44077834179357, 49.61538461538461, 48.87595712098009, 52.63972286374134, 59.719343696027636, 52.58519269776876, 47.89134808853119, 37.29924242424242, 59.30261780104712, 58.300796812749006, 52.56492027334852, 54.60584677419355, 56.600243013365734, 53.75840978593272, 54.29839326702372, 65.8663330950679, 58.09155485398579, 56.28733264675592, 59.71340839303992, 54.49842931937173, 29.328059071729957, 45.30268199233716, 60.46444780635401, 7.24974924774323, 54.90553745928339, 54.59538461538462, 53.48238057948316, 52.733231707317074, 49.57582755966128, 58.1025641025641, 51.12785862785863, 46.8089519650655, 43.264568764568764, 25.939560439560438, 53.47527749747729, 52.107070707070704, 57.908809891808346, 36.016032064128254, 56.50840336134454, 28.758985200845665, 54.46378378378378, 55.18069815195072, 41.82193158953722, 40.859042553191486, 62.188434695912264, 52.22657054582904, 50.11094890510949, 45.280538302277435, 40.882966396292005, 50.97710718002081, 51.76044852191641, 28.393462469733656, 44.20686070686071, 52.65103598691385, 52.56928838951311, 45.28384279475983, 42.40203045685279, 46.596173212487415, 48.408952187182095, 47.242, 57.985670419651996, 46.85787321063395, 48.07543323139653, 40.474164133738604, 55.90759075907591, 46.14336917562724, 61.94329896907217, 53.665989847715736, 42.577777777777776, 21.6256038647343, 28.54586129753915, 48.035787321063395, 36.71340839303992, 47.74300518134715, 51.841711229946526, 20.43344709897611, 68.38314944834504, 60.54022988505747, 47.13467336683417, 48.25227963525836, 63.2280163599182, 48.59263050153531, 57.178714859437754, 28.004210526315788, 59.07898773006135, 50.783266129032256, 56.273153575615474, 66.31434384537131, 44.801904761904765, 64.14837398373983, 59.1580547112462, 57.064182194616976, 44.94335511982571, 68.56595744680851, 55.90791896869245, 34.668743509865, 47.8433014354067, 39.67374301675978, 50.797604790419165, 51.59331259720062, 50.63247863247863, 50.58569051580699, 54.63780778395552, 49.84725050916497, 61.82080329557157, 49.68201754385965, 54.268862911795964, 52.7772397094431, 52.20815752461322, 39.91448275862069, 43.550573514077165, 53.471, 48.14811031664964, 53.54063205417607, 49.46358974358974, 56.54957724827056, 53.85657051282051, 46.25598991172762, 52.79299691040165, 58.70031055900621, 21.473913043478262, 62.72623966942149, 58.896875, 62.545923632610936, 54.07921810699588, 38.39712556732224, 46.84345794392523, 54.75285565939772, 55.09626436781609, 38.020084566596196, 62.21327967806841, 42.12645011600928, 55.86986301369863, 53.83710054559626, 64.0914939242316, 32.443647540983605, 66.7797256097561, 34.704109589041096, 44.67182410423453, 64.09527498063517, 55.04503105590062, 60.77439024390244, 57.74230769230769, 60.86590038314176, 54.363207547169814, 67.58262218774243, 52.67282525019245, 56.74980574980575, 55.513513513513516, 49.197070572569906, 43.14331210191083, 54.94076383476228, 55.55220417633411, 64.6088742810189, 73.05168986083498, 38.73237597911227, 52.57197844495766, 50.2135593220339];
for (let i = 0; i < arr.length; i++) {
  // add marker to map
  var el = document.createElement('div');
  el.className = 'marker';
  el.style.width = '24px';
  el.style.height = '24px';
  if(mean[i]>= 0 && mean[i]<= 35)
    el.style.backgroundImage = 'url(../image/level1.png)';
  else if (mean[i] >= 36 && mean[i]<= 41)
  el.style.backgroundImage = 'url(../image/level2.png)';
  else if (mean[i] >= 42 && mean[i]<= 53)
  el.style.backgroundImage = 'url(../image/level3.png)';
  else if (mean[i] >= 54 && mean[i]<= 70)
  el.style.backgroundImage = 'url(../image/level4.png)';
  else
  el.style.backgroundImage = 'url(../image/level5.png)';
  new mapboxgl.Marker(el)
    .setLngLat(arr[i])
    .addTo(map);
}

